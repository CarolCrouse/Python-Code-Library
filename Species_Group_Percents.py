import os, sys, csvimport arcpy
from arcpy import env  #import xl#import pandas as pd        ########################################## July 4, 2019# This program extracts the percents from the VRI and assigns it to the # groups ASPEN, FIR, BIRCH, LARCH, PINE, SPRUCE or WILLOW based on the species 1-6 values.# It fills in the following fields which are already added to the gdb using the script Add_Field.py# SPRUCE_PERCENT# ASPEN_PERCENT# BIRCH_PERCENT# FIR_PERCENT# LARCH_PERCENT# PINE_PERCENT# WILLOW_PERCENT# TOTAL_PERCENT# It reads the following fields:# SPECIES_PCT1 ... SPECIES_PCT6#########################################ws = "C:\\Working_Files\\PYTHON_TESTING\\junk.gdb\\"#Create list of GDB layerslayerList = ['vri']  ################################ ADD FIELD #########   THIS SECTION WORKS BUT IS COMMENTED OUT FOR RE-RUNNING PERCENT SECTION###########################def addFIELD():#	for fc in layerList:#		outFeaturePath = ws + fc#		outLayer = fc + "_layer"##		arcpy.MakeFeatureLayer_management(outFeaturePath, outLayer)##		print "Adding fields"#		arcpy.AddField_management(outLayer, "ASPEN_PERCENT", "SHORT", "", "")#		arcpy.AddField_management(outLayer, "BIRCH_PERCENT", "SHORT", "", "")#		arcpy.AddField_management(outLayer, "PINE_PERCENT", "SHORT", "", "")#		arcpy.AddField_management(outLayer, "FIR_PERCENT", "SHORT", "", "")#		arcpy.AddField_management(outLayer, "LARCH_PERCENT", "SHORT", "", "")#		arcpy.AddField_management(outLayer, "WILLOW_PERCENT", "SHORT", "", "")#		arcpy.AddField_management(outLayer, "SPRUCE_PERCENT", "SHORT", "", "")#		arcpy.AddField_management(outLayer, "TOTAL_PERCENT", "SHORT", "", "")#addFIELD()        				##################################### CALCULATE FIELD ####################################### def addSC():	for fc in layerList: 		print "Calculating Species Percentage"		outFeaturePath = ws + fc  		outLayer = fc + "_layer"  		arcpy.MakeFeatureLayer_management(outFeaturePath, outLayer)		rows = arcpy.UpdateCursor(outLayer)  #this updates the output feature class											 #arcpy function that creates a cursor that lets you update or delete rows on the specified feature class, shapefile, or table. 											 #The cursor places a lock on the data that will remain until either the script completes or the update cursor object is deleted.				for row in rows:   #this goes through the records					aspen_pct1 = 0			aspen_pct2 = 0			aspen_pct3 = 0			aspen_pct4 = 0			aspen_pct5 = 0			aspen_pct6 = 0						fir_pct1 = 0			fir_pct2 = 0			fir_pct3 = 0			fir_pct4 = 0			fir_pct5 = 0			fir_pct6 = 0						birch_pct1 = 0			birch_pct2 = 0			birch_pct3 = 0			birch_pct4 = 0			birch_pct5 = 0			birch_pct6 = 0						larch_pct1 = 0			larch_pct2 = 0			larch_pct3 = 0			larch_pct4 = 0			larch_pct5 = 0			larch_pct6 = 0						pine_pct1 = 0			pine_pct2 = 0			pine_pct3 = 0			pine_pct4 = 0			pine_pct5 = 0			pine_pct6 = 0						spruce_pct1 = 0			spruce_pct2 = 0			spruce_pct3 = 0			spruce_pct4 = 0			spruce_pct5 = 0			spruce_pct6 = 0						willow_pct1 = 0			willow_pct2 = 0			willow_pct3 = 0			willow_pct4 = 0			willow_pct5 = 0			willow_pct6 = 0						# PERCENT 1						if row.SPECIES_CD1 == 'AC' or row.SPECIES_CD1 == 'ACB' or row.SPECIES_CD1 == 'ACT' or row.SPECIES_CD1 == 'AT' or row.SPECIES_CD1 == 'AX':				aspen_pct1 = row.SPECIES_PCT1							if row.SPECIES_CD1 == 'EA' or row.SPECIES_CD1 == 'EP' or row.SPECIES_CD1 == 'EW':				birch_pct1 = row.SPECIES_PCT1							if row.SPECIES_CD1 == 'WS' or row.SPECIES_CD1 == 'WB' or row.SPECIES_CD1 == 'WP':				willow_pct1 = row.SPECIES_PCT1							if row.SPECIES_CD1 == 'BL' or row.SPECIES_CD1 == 'BA' or row.SPECIES_CD1 == 'BG':				fir_pct1 = row.SPECIES_PCT1							if row.SPECIES_CD1 == 'LA' or row.SPECIES_CD1 == 'LT' or row.SPECIES_CD1 == 'LW':				larch_pct1 = row.SPECIES_PCT1							if row.SPECIES_CD1 == 'P' or row.SPECIES_CD1 == 'PA' or row.SPECIES_CD1 == 'PL' or row.SPECIES_CD1 == 'PLI':				pine_pct1 = row.SPECIES_PCT1							if row.SPECIES_CD1 == 'S' or row.SPECIES_CD1 == 'SB' or row.SPECIES_CD1 == 'SE' or row.SPECIES_CD1 == 'SS' or row.SPECIES_CD1 == 'SW' or row.SPECIES_CD1 == 'SX' or row.SPECIES_CD1 == 'SXW':				spruce_pct1 = row.SPECIES_PCT1			# PERCENT 2						if row.SPECIES_CD2 == 'AC' or row.SPECIES_CD2 == 'ACB' or row.SPECIES_CD2 == 'ACT' or row.SPECIES_CD2 == 'AT' or row.SPECIES_CD2 == 'AX':				aspen_pct2 = row.SPECIES_PCT2						if row.SPECIES_CD2 == 'EA' or row.SPECIES_CD2 == 'EP' or row.SPECIES_CD2 == 'EW':				birch_pct2 = row.SPECIES_PCT2							if row.SPECIES_CD2 == 'WS' or row.SPECIES_CD2 == 'WB' or row.SPECIES_CD2 == 'WP':				willow_pct2 = row.SPECIES_PCT2							if row.SPECIES_CD2 == 'BL' or row.SPECIES_CD2 == 'BA' or row.SPECIES_CD2 == 'BG':				fir_pct2 = row.SPECIES_PCT2							if row.SPECIES_CD2 == 'LA' or row.SPECIES_CD2 == 'LT' or row.SPECIES_CD2 == 'LW':				larch_pct2 = row.SPECIES_PCT2							if row.SPECIES_CD2 == 'P' or row.SPECIES_CD2 == 'PA' or row.SPECIES_CD2 == 'PL' or row.SPECIES_CD2 == 'PLI':				pine_pct2 = row.SPECIES_PCT2							if row.SPECIES_CD2 == 'S' or row.SPECIES_CD2 == 'SB' or row.SPECIES_CD2 == 'SE' or row.SPECIES_CD2 == 'SS' or row.SPECIES_CD2 == 'SW' or row.SPECIES_CD2 == 'SX' or row.SPECIES_CD2 == 'SXW':				spruce_pct2 = row.SPECIES_PCT2									# PERCENT 3					if row.SPECIES_CD3 == 'AC' or row.SPECIES_CD3 == 'ACB' or row.SPECIES_CD3 == 'ACT' or row.SPECIES_CD3 == 'AT' or row.SPECIES_CD3 == 'AX':				aspen_pct3 = row.SPECIES_PCT3						if row.SPECIES_CD3 == 'EA' or row.SPECIES_CD3 == 'EP' or row.SPECIES_CD3 == 'EW':				birch_pct3 = row.SPECIES_PCT3							if row.SPECIES_CD3 == 'WS' or row.SPECIES_CD3 == 'WB' or row.SPECIES_CD3 == 'WP':				willow_pct3 = row.SPECIES_PCT3							if row.SPECIES_CD3 == 'BL' or row.SPECIES_CD3 == 'BA' or row.SPECIES_CD3 == 'BG':				fir_pct3 = row.SPECIES_PCT3							if row.SPECIES_CD3 == 'LA' or row.SPECIES_CD3 == 'LT' or row.SPECIES_CD3 == 'LW':				larch_pct3 = row.SPECIES_PCT3							if row.SPECIES_CD3 == 'P' or row.SPECIES_CD3 == 'PA' or row.SPECIES_CD3 == 'PL' or row.SPECIES_CD3 == 'PLI':				pine_pct3 = row.SPECIES_PCT3							if row.SPECIES_CD3 == 'S' or row.SPECIES_CD3 == 'SB' or row.SPECIES_CD3 == 'SE' or row.SPECIES_CD3 == 'SS' or row.SPECIES_CD3 == 'SW' or row.SPECIES_CD3 == 'SX' or row.SPECIES_CD3 == 'SXW':				spruce_pct3 = row.SPECIES_PCT3								# PERCENT 4			if row.SPECIES_CD4 == 'AC' or row.SPECIES_CD4 == 'ACB' or row.SPECIES_CD4 == 'ACT' or row.SPECIES_CD4 == 'AT' or row.SPECIES_CD4 == 'AX':				aspen_pct4 = row.SPECIES_PCT4						if row.SPECIES_CD4 == 'EA' or row.SPECIES_CD4 == 'EP' or row.SPECIES_CD4 == 'EW':				birch_pct4 = row.SPECIES_PCT4							if row.SPECIES_CD4 == 'WS' or row.SPECIES_CD4 == 'WB' or row.SPECIES_CD4 == 'WP':				willow_pct4 = row.SPECIES_PCT4							if row.SPECIES_CD4 == 'BL' or row.SPECIES_CD4 == 'BA' or row.SPECIES_CD4 == 'BG':				fir_pct4 = row.SPECIES_PCT4							if row.SPECIES_CD4 == 'LA' or row.SPECIES_CD4 == 'LT' or row.SPECIES_CD4 == 'LW':				larch_pct4 = row.SPECIES_PCT4							if row.SPECIES_CD4 == 'P' or row.SPECIES_CD4 == 'PA' or row.SPECIES_CD4 == 'PL' or row.SPECIES_CD4 == 'PLI':				pine_pct4 = row.SPECIES_PCT4							if row.SPECIES_CD4 == 'S' or row.SPECIES_CD4 == 'SB' or row.SPECIES_CD4 == 'SE' or row.SPECIES_CD4 == 'SS' or row.SPECIES_CD4 == 'SW' or row.SPECIES_CD4 == 'SX' or row.SPECIES_CD4 == 'SXW':				spruce_pct4 = row.SPECIES_PCT4			# PERCENT 5			if row.SPECIES_CD5 == 'AC' or row.SPECIES_CD5 == 'ACB' or row.SPECIES_CD5 == 'ACT' or row.SPECIES_CD5 == 'AT' or row.SPECIES_CD5 == 'AX':				aspen_pct5 = row.SPECIES_PCT5						if row.SPECIES_CD5 == 'EA' or row.SPECIES_CD5 == 'EP' or row.SPECIES_CD5 == 'EW':				birch_pct5 = row.SPECIES_PCT5							if row.SPECIES_CD5 == 'WS' or row.SPECIES_CD5 == 'WB' or row.SPECIES_CD5 == 'WP':				willow_pct5 = row.SPECIES_PCT5							if row.SPECIES_CD5 == 'BL' or row.SPECIES_CD5 == 'BA' or row.SPECIES_CD5 == 'BG':				fir_pct5 = row.SPECIES_PCT5							if row.SPECIES_CD5 == 'LA' or row.SPECIES_CD5 == 'LT' or row.SPECIES_CD5 == 'LW':				larch_pct5 = row.SPECIES_PCT5							if row.SPECIES_CD5 == 'P' or row.SPECIES_CD5 == 'PA' or row.SPECIES_CD5 == 'PL' or row.SPECIES_CD5 == 'PLI':				pine_pct5 = row.SPECIES_PCT5							if row.SPECIES_CD5 == 'S' or row.SPECIES_CD5 == 'SB' or row.SPECIES_CD5 == 'SE' or row.SPECIES_CD5 == 'SS' or row.SPECIES_CD5 == 'SW' or row.SPECIES_CD5 == 'SX' or row.SPECIES_CD5 == 'SXW':				spruce_pct5 = row.SPECIES_PCT5			# PERCENT 6			if row.SPECIES_CD6 == 'AC' or row.SPECIES_CD6 == 'ACB' or row.SPECIES_CD6 == 'ACT' or row.SPECIES_CD6 == 'AT' or row.SPECIES_CD6 == 'AX':				aspen_pct6 = row.SPECIES_PCT6						if row.SPECIES_CD6 == 'EA' or row.SPECIES_CD6 == 'EP' or row.SPECIES_CD6 == 'EW':				birch_pct6 = row.SPECIES_PCT6							if row.SPECIES_CD6 == 'WS' or row.SPECIES_CD6 == 'WB' or row.SPECIES_CD6 == 'WP':				willow_pct6 = row.SPECIES_PCT6							if row.SPECIES_CD6 == 'BL' or row.SPECIES_CD6 == 'BA' or row.SPECIES_CD6 == 'BG':				fir_pct6 = row.SPECIES_PCT6							if row.SPECIES_CD6 == 'LA' or row.SPECIES_CD6 == 'LT' or row.SPECIES_CD6 == 'LW':				larch_pct6 = row.SPECIES_PCT6							if row.SPECIES_CD6 == 'P' or row.SPECIES_CD6 == 'PA' or row.SPECIES_CD6 == 'PL' or row.SPECIES_CD6 == 'PLI':				pine_pct6 = row.SPECIES_PCT6							if row.SPECIES_CD6 == 'S' or row.SPECIES_CD6 == 'SB' or row.SPECIES_CD6 == 'SE' or row.SPECIES_CD6 == 'SS' or row.SPECIES_CD6 == 'SW' or row.SPECIES_CD6 == 'SX' or row.SPECIES_CD6 == 'SXW':				spruce_pct6 = row.SPECIES_PCT6							row.SPRUCE_PERCENT = spruce_pct1 + spruce_pct2 + spruce_pct3 + spruce_pct4 + spruce_pct5 + spruce_pct6			row.ASPEN_PERCENT = aspen_pct1 + aspen_pct2 + aspen_pct3 + aspen_pct4 + aspen_pct5 + aspen_pct6			row.BIRCH_PERCENT = birch_pct1 + birch_pct2 + birch_pct3 + birch_pct4 + birch_pct5 + birch_pct6			row.LARCH_PERCENT = larch_pct1 + larch_pct2 + larch_pct3 + larch_pct4 + larch_pct5 + larch_pct6			row.PINE_PERCENT = pine_pct1 + pine_pct2 + pine_pct3 + pine_pct4 + pine_pct5 + pine_pct6			row.FIR_PERCENT = fir_pct1 + fir_pct2 + fir_pct3 + fir_pct4 + fir_pct5 + fir_pct6			row.WILLOW_PERCENT = willow_pct1 + willow_pct2 + willow_pct3 + willow_pct4 + willow_pct5 + willow_pct6			row.TOTAL_PERCENT = spruce_pct1 + spruce_pct2 + spruce_pct3 + spruce_pct4 + spruce_pct5 + spruce_pct6 \								+ aspen_pct1 + aspen_pct2 + aspen_pct3 + aspen_pct4 + aspen_pct5 + aspen_pct6 \								+ birch_pct1 + birch_pct2 + birch_pct3 + birch_pct4 + birch_pct5 + birch_pct6 \								+ larch_pct1 + larch_pct2 + larch_pct3 + larch_pct4 + larch_pct5 + larch_pct6 \								+ pine_pct1 + pine_pct2 + pine_pct3 + pine_pct4 + pine_pct5 + pine_pct6 \								+ fir_pct1 + fir_pct2 + fir_pct3 + fir_pct4 + fir_pct5 + fir_pct6 \								+ willow_pct1 + willow_pct2 + willow_pct3 + willow_pct4 + willow_pct5 + willow_pct6			rows.updateRow(row)						del row  # WHAT DOES THIS DO	del rows	rows = arcpy.UpdateCursor(outLayer)  # WHY RUN THIS AGAIN?#addFIELD()addSC()                